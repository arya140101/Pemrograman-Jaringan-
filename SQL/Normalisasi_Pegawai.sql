use Normalisasi_19205002_Azarya_Divino;

create table utama_Pegawai_Azarya_Divino_19205002(

	NO_PROYEK VARCHAR(10),
	NAMA_PROYEK VARCHAR(20),
	NO_PEGAWAI VARCHAR(8),
	NAMA_PEGAWAI VARCHAR(100),
	GOLONGAN CHAR(1),
	BESAR_GAJI DECIMAL

);

INSERT INTO utama_Pegawai_Azarya_Divino_19205002 (NO_PROYEK,NAMA_PROYEK,NO_PEGAWAI,NAMA_PEGAWAI,GOLONGAN,BESAR_GAJI) VALUES 
('NP001','BRR','PEG01','Arya','A','3000000'),
('NP001','BRR','PEG02','Ivan','B','2800000'),
('NP001','BRR','PEG03','Ricky','C','2000000'),
('NP002','PEMDA','PEG01','Arya','A','3000000'),
('NP002','PEMDA','PEG04','Cindy','B','2800000'),
('NP002','PEMDA','PEG05','Bambang','B','2800000');

--menampilkan tabel
select * from utama_Pegawai_Azarya_Divino_19205002;

CREATE TABLE PEGAWAI(
	
	NO_PEGAWAI VARCHAR(8),
	NAMA_PEGAWAI VARCHAR(100),
	GOLONGAN CHAR(1)
	primary key (NO_PEGAWAI)
);

INSERT INTO PEGAWAI (NO_PEGAWAI,NAMA_PEGAWAI,GOLONGAN) VALUES 
('PEG01','Arya','A'),
('PEG02','Ivan','B'),
('PEG03','Ricky','C'),
('PEG04','Cindy','B'),
('PEG05','Bambang','B');

--menampilkan data 
select * from PEGAWAI;

CREATE TABLE PROYEK_PEGAWAI(

	NO_PROYEK VARCHAR(10),
	NO_PEGAWAI VARCHAR(8)

);

INSERT INTO PROYEK_PEGAWAI (NO_PROYEK,NO_PEGAWAI) VALUES
('NP001','PEG01'),
('NP001','PEG02'),
('NP001','PEG03'),
('NP002','PEG01'),
('NP002','PEG04'),
('NP002','PEG05');

--MENAMPILKAN PROYEK PEGAWAI

select * from PROYEK_PEGAWAI;

CREATE TABLE PROYEK (

	NO_PROYEK VARCHAR(10),
	NAMA_PROYEK VARCHAR(20),
	primary key (NO_PROYEK)

);

INSERT INTO PROYEK (NO_PROYEK,NAMA_PROYEK) VALUES 
('NP001','BRR'),
('NP002','PEMDA');

--MENAMPILKAN DATA 
SELECT * FROM PROYEK;

CREATE TABLE GOLONGAN(

	GOLONGAN CHAR(1),
	BESAR_GAJI DECIMAL
	primary key (GOLONGAN)

);

INSERT INTO GOLONGAN (GOLONGAN,BESAR_GAJI) VALUES 
('A','3000000'),
('B','2800000'),
('C','2000000');

--MENAMPILKAN DATA 
SELECT * FROM GOLONGAN;

--RELASI (PROYEK_PEGAWAI - PEGAWAI)
ALTER TABLE PROYEK_PEGAWAI
ADD CONSTRAINT FKPEGAWAI foreign key (NO_PEGAWAI)
REFERENCES PEGAWAI (NO_PEGAWAI);

--RELASI (PROYEK_PEGAWAI - PEGAWAI)
ALTER TABLE PROYEK_PEGAWAI
ADD CONSTRAINT FKPROYEK foreign key (NO_PROYEK)
REFERENCES PROYEK (NO_PROYEK);

--RELASI (PROYEK_PEGAWAI - GOLONGAN)
ALTER TABLE PEGAWAI
ADD CONSTRAINT FKGOLONGAN foreign key (GOLONGAN)
REFERENCES GOLONGAN (GOLONGAN);